location.href&&0<=location.href.indexOf("qq.com")&&(document.domain="qq.com");$E=function(a){a=a.replace("#","");return document.getElementById(a)};"undefined"==typeof LoginManager&&(LoginManager={});LoginManager._$E=function(a){a=a.replace("#","");return document.getElementById(a)};LoginManager._$extend=function(a,b){if("object"!=typeof b||!b)return a;for(var d in b)a[d]=b[d];return a};LoginManager._randomInt=function(a){return Math.floor(Math.random()*a)};LoginManager._extend=function(a,b){var d=LoginManager._clone(b),c;for(c in a)"undefined"!=typeof b[c]&&(a[c]=d[c]);return a};LoginManager._clone=function(a){if("object"!=typeof a)return a;if(null==a)return null;var b=a.constructor==Array?[]:{},d;for(d in a)b[d]=LoginManager._clone(a[d]);return b};LoginManager._getAllQuery=function(a){a=a||window.location.href;var b={};if(0<a.length)for(var d=a.split("&"),c=0;c<d.length;c++){var e=d[c].split("=");2==e.length&&(0<e[0].length&&0<e[1].length)&&(a==window.location.href&&0<=e[1].indexOf("#")&&(e[1]=e[1].split("#")[0]),0<e[1].length&&(0==c&&(e[0]=e[0].substr(e[0].indexOf("?")+1)),e[0]&&(b[e[0]]=unescape(e[1]))))}return b};LoginManager._getAllQueryStr=function(a,b){a=a||null;b=b||null;var d=function(a){if(a){var b=[],d;for(d in a)if("undefined"!=typeof a[d])if("string"==typeof a[d]||"number"==typeof a[d]||"boolean"==typeof a[d])b.push(d+"="+escape(a[d].toString()));else if(null==a[d])b.push(d+"=");else if(a[d]instanceof Array){for(var c=0;c<a[d].length;c++)a[d][c]=escape(a[d][c].toString());b.push(d+"="+a[d].join("|"))}else try{b.push(d+"="+escape(a[d].toString()))}catch(e){}if(0<b.length)return b.join("&")}return""},c=-1;a||b?a&&b?c=2:a&&!b?c=1:!a&&b&&(a=b,c=1):c=0;switch(c){case 0:return b=LoginManager._getAllQuery(),d(b);case 1:var e=a;return"string"==typeof e?d(LoginManager._getAllQuery(e)):"object"==typeof e?d(e):"";case 2:c={};if("string"==typeof a)c=LoginManager._getAllQuery(a);else if("object"==typeof a)for(e in a)try{c[e]=unescape(a[e])}catch(g){}else return"";for(e in b)try{c[e]=unescape(b[e])}catch(f){}return d(c);default:alert("\u53c2\u6570\u9519\u8bef")}};LoginManager._setCookie=function(a,b,d,c,e,g){var f=new Date;d=d||null;c=c||"/";e=e||null;g=g||!1;d&&f.setMinutes(f.getMinutes()+parseInt(d));a=escape(a)+"="+escape(b)+(d?"; expires="+f.toGMTString():"")+(c?"; path="+c:"")+(e?"; domain="+e:"")+(g?"; secure":"");document.cookie=a};LoginManager.filterXSS=function(e){if(!e)return e;for(var x=["<",">","'",'"',"%3c","%3e","%27","%22","%253c","%253e","%2527","%2522"],r=["&#x3c;","&#x3e;","&#x27;","&#x22;","%26%23x3c%3B","%26%23x3e%3B","%26%23x27%3B","%26%23x22%3B","%2526%2523x3c%253B","%2526%2523x3e%253B","%2526%2523x27%253B","%2526%2523x22%253B"],B=0;B<x.length;B++)e=e.replace(new RegExp(x[B],"gi"),r[B]);return e};LoginManager._getCookie=function(a){var b;return LoginManager.filterXSS((b=document.cookie.match(RegExp("(^|;\\s*)"+a+"=([^;]*)(;|$)")))?unescape(b[2]):null)};LoginManager._delCookie=function(a,b,d,c){var e=new Date;e.setTime(e.getTime()-1e3);e.toGMTString();LoginManager._setCookie(a,"",-100,b||"/",d||null,c||!1)};LoginManager.DATA={APPID:[{qqgame:21000110},{gamevip:21000121},{huanle:21000121},{qqtang:21000107},{fo:21000106},{ffo:21000106},{pet:21000109},{sg:21000103},{r2:21000105},{xx:21000104},{x5:21000125},{speed:21000118},{cf:21000124},{dnf:21000127},{nana:21000119},{ava:21000128},{sl:21000401},{battle:21000111},{kaixuan:21000112},{tgame:21000113},{st:21000114},{game:21000115},{gcs:21000108},{pigpet:21000117},{fcm:21000116},{petbear:21000101},{gamesafe:21000109},{webgame:21000118},{"ied-gameinfo":21000501}],APPGAMEID:"qqtang qqgame fo ffo pet sg r2 xx x5 speed cf dnf ava sl xj dm bear".split(" ")};LoginManager.comm={getGameId:function(a){a=(a||window.location.host).match(/(\w+?)\.qq\.com/gim);var b="";a&&0<a.length&&(a=a[0].split(".")[0].toLowerCase(),b=a=a.replace(/^test|test$/gim,""));return b},getAppId:function(a){a=a||this.getGameId();var b=-1;if(a){for(var d=0;d<LoginManager.DATA.APPID.length;d++){var c=LoginManager.DATA.APPID[d],e;for(e in c)if(e==a){b=d;break}if(0<=1*b)break}0>1*b&&(b=LoginManager._randomInt(LoginManager.DATA.APPID.length),2>=b&&(b+=3))}else b=LoginManager._randomInt(LoginManager.DATA.APPID.length),2>=b&&(b+=3);c=LoginManager.DATA.APPID[1*b];for(e in c)return c[e];return""},getAppGameId:function(a){return a=a||this.getGameId()},getCheckLoginUrl:function(a){var b="0";a={0:"http://apps.game.qq.com/comm-cgi-bin/login/LoginReturnInfo.cgi",1:"http://commwebgame.game.qq.com/comm-cgi-bin/login/LoginReturnInfo.cgi",2:""};var d;a:{var c=document.getElementsByTagName("script");for(d=0;d<c.length;d++){var e=c[d].src;if(e&&0<=e.toLowerCase().indexOf("loginmanager")){d=e;break a}}d=""}c=!1;d&&(d=LoginManager._getAllQuery(d),d.loginType&&(b=d.loginType,c=!0));c||(c=window.location.href,/.*qq\.com($|\/[^\/]*$)/gim.test(c)&&(b="0"),/http:\/\/game\.[^\.]+\.qq\.com/gim.test(c)&&(b="1"),0<=c.indexOf("qq.com/webgame_login/index.html")&&(b="1"),0<=c.indexOf("qq.com/server/index.html")&&(b="1"));(b=a[b])||(b=a["0"]);return b},checkUserLogined:function(){var a=LoginManager._getCookie("IED_LOG_INFO2");if(!a)return!1;a=LoginManager._getAllQuery(a);if(!a||!a.userUin)return LoginManager._delCookie("IED_LOG_INFO2","../index.html","qq.com"),!1;var b=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;b.open("HEAD.html",window.location.href,!1);b.send();b=new Date(b.getResponseHeader("Date"));return 120<Math.floor(b.getTime()/1e3)-a.userLoginTime?(LoginManager._delCookie("IED_LOG_INFO2","../index.html","qq.com"),!1):!0},callbackLoginInfo:function(a,b){"object"!=typeof window.loginFunction&&(window.loginFunction={});window.loginFunction[a]=window[a]=function(a){if(0!=a.errorCode&&-1!=a.errorCode)alert("\u8fd4\u56de\u7ed3\u679c\u51fa\u9519\uff0c\u9519\u8bef\u4fe1\u606f\u4e3a\uff1a"+a.errorStr);else{if(a.isLogin){var c=LoginManager._getCookie("IED_LOG_INFO2"),c=c?LoginManager._getAllQuery(c):{};c.userUin=a.userUin;c.nickName=a.nickName;c.userLoginTime=a.userLoginTime;c=LoginManager._getAllQueryStr(c);LoginManager._setCookie("IED_LOG_INFO2",c,0,"../index.html","qq.com")}else LoginManager._delCookie("IED_LOG_INFO2","../index.html","qq.com");"function"==typeof b&&b(a)}}}};LoginManager.tool={bom:function(){var a={};a.isIE=-1==navigator.userAgent.indexOf("MSIE")?!1:!0;a.isIE6=a.isIE&&!window.XMLHttpRequest&&window.ActiveXObject?!0:!1;return a}(),setStyle:function(a,b){for(var d in b)d&&(a.style[d]=b[d]);return!0},getStyleStr:function(a){var b=[],d;for(d in a)d&&b.push(d+":"+a[d]+";");return b.join(" ")},getMaxWidth:function(){var a=function(){var a=null;return a=window.innerWidth&&window.scrollMaxX?window.innerWidth+window.scrollMaxX:document.body.scrollWidth>document.body.offsetWidth?document.body.scrollWidth:document.body.offsetWidth},b=function(){return window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.offsetWidth};return a()>b()?a():b()},getMaxHeight:function(){var a=function(){var a=null;return a=window.innerHeight&&window.scrollMaxY?window.innerHeight+window.scrollMaxY:document.body.scrollHeight>document.body.offsetHeight?document.body.scrollHeight:document.body.offsetHeight},b=function(){return window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.offsetHeight};return a()>b()?a():1*b()-4},setAlignCenter:function(a){a&&(a.style.margin="0px",a.style.left=(window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body.offsetWidth)/2-a.clientWidth/2+"px",a.style.top=(window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.offsetHeight)/2+(document.body.scrollTop||document.documentElement.scrollTop)-a.clientHeight/2+"px")}};LoginManager.tool.option={maxId:0};LoginManager.tool.getId=function(){return++LoginManager.tool.option.maxId};LoginManager.tool.createScript=function(a){var b={url:"",charset:"gb2312",cache:!0,dataType:"object",dataTypeName:"",onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:null,onLoadErrorEvent:null,onLoadCompleteEvent:null},d=3;LoginManager._$extend(b,a);if(a=function(a){if(!a.url)return"";if(!1===a.cache){var b=+new Date,d=a.url.replace(/(\?|&)_=.*?(&|$)/,"$1_="+b+"$2");a.url=d+(d==a.url?(a.url.match(/\?/)?"&":"?")+"_="+b:"")}return a.url}(b))if(b.url=a,"function"!=typeof b.onLoadStartEvent||!b.onLoadStartEvent(b)){var c=document.getElementsByTagName("head")[0]||document.documentElement,e=document.createElement("script");e.setAttribute("src",b.url);e.setAttribute("type","text/javascript");b.charset&&e.setAttribute("charset",b.charset);"function"!=typeof b.onLoadSuccessEvent&&(b.onLoadSuccessEvent=function(a){});"function"!=typeof b.onLoadCompleteEvent&&(b.onLoadCompleteEvent=function(a){});"function"!=typeof b.onLoadErrorEvent&&(b.onLoadErrorEvent=function(a){});var g=!1,f=LoginManager.tool.getId();e.onload=e.onreadystatechange=function(){if(!(g||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState)){g=!0;var a=window["FILE_LOAD_FLAG_"+f]=!1;if("object"==b.dataType)if(b.dataTypeName){if("object"==typeof window[b.dataTypeName]){b.onLoadSuccessEvent(b);b.onLoadCompleteEvent(b);window["FILE_LOAD_FLAG_"+f]=!0;return}window["FileLoadFlag_"+f]=window.setInterval(function(){"object"==typeof window[b.dataTypeName]?(b.onLoadSuccessEvent(b),b.onLoadCompleteEvent(b),window["FILE_LOAD_FLAG_"+f]=!0,clearInterval(window["FileLoadFlag_"+f])):(d--,0>=d&&(b.onLoadErrorEvent(b),b.onLoadCompleteEvent(b),window["FILE_LOAD_FLAG_"+f]=!0,clearInterval(window["FileLoadFlag_"+f])))},1e3)}else a=!0;else if("function"==b.dataType)if(b.dataTypeName){if("function"==typeof window[b.dataTypeName]){b.onLoadSuccessEvent(b);b.onLoadCompleteEvent(b);window["FILE_LOAD_FLAG_"+f]=!0;return}window["FileLoadFlag_"+f]=window.setInterval(function(){"function"==typeof window[b.dataTypeName]?(b.onLoadSuccessEvent(b),b.onLoadCompleteEvent(b),window["FILE_LOAD_FLAG_"+f]=!0,clearInterval(window["FileLoadFlag_"+f])):(d--,0>=d&&(b.onLoadErrorEvent(b),b.onLoadCompleteEvent(b),window["FILE_LOAD_FLAG_"+f]=!0,clearInterval(window["FileLoadFlag_"+f])))},1e3)}else a=!0;if(a){b.onLoadSuccessEvent(b);b.onLoadCompleteEvent(b);return}}var h=+new Date;window["FILE_LOAD_TIMMER_FLAG_"+f]=window.setInterval(function(){window["FILE_LOAD_FLAG_"+f]?clearInterval(window["FILE_LOAD_TIMMER_FLAG_"+f]):30<=(+new Date-h)/1e3&&(b.onLoadErrorEvent(b),b.onLoadCompleteEvent(b),clearInterval(window["FILE_LOAD_TIMMER_FLAG_"+f]))},100);setTimeout(function(){try{c.removeChild(e)}catch(a){}},5e3)};"function"==typeof b.onLoadingEvent&&b.onLoadingEvent(b)||c.appendChild(e)}};LoginManager.cover={option:{alpha:50,overflowX:"",allSelectDisplayList:null,timeInterval:null},show:function(a,b){var d=this.createBackground(b);if(d){var c=document.body;this.option.overflowX=c.style.overflowX;LoginManager.tool.setStyle(c,{overflowX:"hidden"});if(LoginManager.tool.bom.isIE6&&(LoginManager.tool.setStyle(document.getElementsByTagName("html")[0],{overflowX:"hidden"}),c=document.getElementsByTagName("select"),0<c.length)){LoginManager.cover.option.allSelectDisplayList=[];for(var e=0;e<c.length;e++){var g=c[e];LoginManager.cover.option.allSelectDisplayList.push({dom:g,display:g.style.display});g.style.display="none"}}/msie 10\.0/i.test(navigator.userAgent.toLowerCase())||/rv:11\.0/i.test(navigator.userAgent.toLowerCase())?LoginManager.tool.setStyle(d,{display:"none"}):LoginManager.tool.setStyle(d,{display:"block"});"function"==typeof a&&a();this.option.timeInterval=setInterval(function(){LoginManager.cover.adjust()},50)}},hide:function(a){var b=document.getElementById("coverbg");if(b){document.body.style.overflowX=this.option.overflowX;LoginManager.tool.setStyle(b,{display:"none"});if(LoginManager.tool.bom.isIE6&&(LoginManager.tool.setStyle(document.getElementsByTagName("html")[0],{overflowX:"auto"}),LoginManager.cover.option.allSelectDisplayList)){for(b=0;b<LoginManager.cover.option.allSelectDisplayList.length;b++){var d=LoginManager.cover.option.allSelectDisplayList[b];d.dom.style.display=d.display}LoginManager.cover.option.allSelectDisplayList=null}"function"==typeof a&&a()}this.option.timeInterval&&(clearInterval(this.option.timeInterval),this.option.timeInterval=null)},adjust:function(){var a=document.getElementById("coverbg");if(a){var b=LoginManager.tool.getMaxWidth(),d=LoginManager.tool.getMaxHeight(),b=document.documentElement.clientWidth,d=document.documentElement.clientHeight,c=document.documentElement.offsetWidth,e=document.documentElement.offsetHeight,g=document.documentElement.scrollWidth,f=document.documentElement.scrollHeight;e>d&&(d=e);c>b&&(b=c);f>d&&(d=f);g>b&&(b=g);b>screen.availWidth&&(b=screen.availWidth);d>LoginManager.tool.getMaxHeight()&&(d=LoginManager.tool.getMaxHeight());LoginManager.tool.bom.isFireFox&&(5e3<d&&(d=5e3),3e3<b&&(b=3e3));LoginManager.tool.setStyle(a,{width:b+"px",height:d+"px"});(a=a.children[0])&&LoginManager.tool.setStyle(a,{width:b+"px",height:d+"px"})}},createBackground:function(a){a=a?a:"#E6F5FF";var b=this.option.alpha,d=document.body;if(d){var c=document.getElementById("coverbg");c||(c=document.createElement("div"),c.setAttribute("id","coverbg"),LoginManager.tool.setStyle(c,{position:"absolute",display:"none","z-Index":998,left:"0px",top:"0px"}),function(a,b){LoginManager.tool.bom.isIE?a.style.filter="Alpha(opacity="+b+")":a.style.opacity=b/100;if(/msie 10\.0/i.test(navigator.userAgent.toLowerCase())||/rv:11\.0/i.test(navigator.userAgent.toLowerCase()))a.style.background="none"}(c,b),(b=d.children[0])?d.insertBefore(c,b):d.insertBefore(c));c.style.zIndex=998;(c=function(){var a=c.children[0];if(a)return LoginManager.tool.setStyle(a,{width:LoginManager.tool.getMaxWidth()+"px",height:LoginManager.tool.getMaxHeight()+"px"}),c;try{return a=document.createElement("iframe"),a.setAttribute("src","about:blank;"),a.setAttribute("scrolling","no"),a.setAttribute("frameborder","0"),a.setAttribute("allowtransparency","true"),LoginManager.tool.setStyle(a,{position:"absolute",border:0,"z-Index":"997",top:"0",left:"0",width:LoginManager.tool.getMaxWidth()+"px",height:LoginManager.tool.getMaxHeight()+"px",filter:"Alpha(Opacity=0,Style=0)","background-color":"transparent"}),a.style.zIndex=997,LoginManager.tool.bom.isIE6&&(a.style.display="none"),c.appendChild(a),c}catch(b){}return null}())&&LoginManager.tool.setStyle(c,{backgroundColor:a,width:LoginManager.tool.getMaxWidth()+"px",height:LoginManager.tool.getMaxHeight()+"px"});return c}alert("\u6ca1\u627e\u5230body\u6807\u7b7e\uff0c\u8bf7\u653e\u5230body\u4e4b\u540e\u5f15\u7528");return null}};LoginManager.coverdiv={openPromptDiv:function(a){var b={msg:"",width:250,height:40,left:.5,top:.5};LoginManager._$extend(b,a);a=LoginManager._$E("loginPromptDiv");a||(a=document.createElement("div"),a.id="loginPromptDiv",a.style.backgroundColor="#FFFFCC",a.style.border="2px solid buttonface",a.style.padding="0px",a.style.zIndex="100000",a.style.margin="0px",a.style.position="absolute",a.style.textAlign="center",a.style.top="30%",a.style.left="30%",a.style.color="#000000",a.style.display="none",a.style.fontSize="12px",document.body.appendChild(a));a.style.width=b.width+"px";a.style.height=b.height+"px";a.style.lineHeight=b.height+"px";a.innerHTML=LoginManager.filterXSS(b.msg);a.style.display="block";this.setDivPosition(a,{left:b.left,top:b.top});return a},closePromptDiv:function(){var a=LoginManager._$E("loginPromptDiv");a&&(a.innerHTML="",a.style.display="none")},getLoginDiv:function(){var a=LoginManager._$E("loginDiv");a||(a=this.openLoginDiv());LoginManager._$E("loginIframe").getAttribute("src")||(a.style.display="none");return a},openLoginDiv:function(a){var b={left:.5,top:.5,src:"",show:!0};LoginManager._$extend(b,a);a=LoginManager._$E("loginDiv");if(!a){a=document.createElement("div");a.id="loginDiv";a.style.height="300px";a.style.width="450px";a.style.border="0px";a.style.padding="0px";a.style.margin="0px";a.style.position="absolute";a.style.zIndex="100002";a.style.top="20%";a.style.left="30%";a.style.display="none";var d=document.createElement("iframe");d.id="loginIframe";d.name="loginIframe";d.frameborder="0";d.scrolling="no";d.width="100%";d.height="100%";d.frameBorder="0";a.appendChild(d);document.body.appendChild(a)}LoginManager._$E("loginIframe").setAttribute("src",b.src);b.show&&(a.style.display="block");this.setDivPosition(a,{left:b.left,top:b.top});return a},closeLoginDiv:function(){var a=LoginManager._$E("loginDiv");a&&(a.style.display="none")},setDivPosition:function(a,b){var d,c;c=Math.min(document.documentElement.clientHeight,document.body.clientHeight);d=Math.min(document.documentElement.clientWidth,document.body.clientWidth);0>=d&&(d=document.documentElement.clientWidth+document.body.clientWidth);0>=c&&(c=document.documentElement.clientHeight+document.body.clientHeight);var e=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,g=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,f={top:.5,left:.5};LoginManager._$extend(f,b);a.style.top=Math.floor(g+(c-parseInt(a.clientHeight||a.style.height))*(f.top||.5))+"px";a.style.left=Math.floor(e+(d-parseInt(a.clientWidth||a.style.width))*(f.left||.5))+"px";0>=a.style.top&&(a.style.top="30%",a.style.left="30%")}};LoginManager.__getUserUin=function(){var a=LoginManager._getCookie("IED_LOG_INFO2");return a?(a=LoginManager._getAllQuery(a),(a=a.userUin)&&!isNaN(a)?a:""):""};LoginManager.isLogin=function(){return LoginManager.comm.checkUserLogined()};LoginManager.getUserUin=function(){var a=LoginManager.__getUserUin();if(!a)return"";var b=LoginManager._getCookie("show_id");if(!b)return a;var d=b.length;if(0!=d%2)b="";else{for(var c="",e=0;e<d;e+=2)c+=String.fromCharCode(parseInt(b.substr(e,2),16));b=c}return isNaN(b)?a:b};LoginManager.getNickName=function(a){"function"!=typeof a&&(a=function(a){});var b=LoginManager._getCookie("IED_LOG_INFO2"),d={isLogin:!1,nickName:""};if(b&&(b=LoginManager._getAllQuery(b),b.nickName)){d={isLogin:!0,nickName:decodeURIComponent(b.nickName)||""};a(d);return}a(d)};LoginManager.getUserVip=function(a,b){a=a||"";a=a.toLowerCase();var d={cf:!0,xx:!0,ava:!0,roco:!0,qq:!0};a&&d[a]&&LoginManager.checkLogin(function(){LoginManager.getUserVip["get"+a.toUpperCase()+"Vip"](b)},function(){var a=LoginManager.getUserVip.getVIPObj();"function"==typeof b&&b(a)});var c=[],e;for(e in d)c.push(e);return c};LoginManager.getUserDiamond=function(a,b){a=a||"";a=a.toLowerCase();var d={qqgame:!0,speed:!0,qqshow:!0,qqzone:!0,r2:!0,qqtang:!0,x5:!0,dnf:!0};a&&d[a]&&LoginManager.checkLogin(function(){LoginManager.getUserDiamond["get"+a.toUpperCase()+"Diamond"](b)},function(){var a=LoginManager.getUserDiamond.getDiamondObj();"function"==typeof b&&b(a)});var c=[],e;for(e in d)c.push(e);return c};LoginManager.getUserVip.getVIPObj=function(){return{isLogin:!1,isVip:!1}};LoginManager.getUserVip.getCFVip=function(a){var b="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(b,function(b){var c=LoginManager.getUserVip.getVIPObj();b.isLogin&&(c.isLogin=!0,1==b.isvip&&(c.isVip=!0));"function"==typeof a&&a(c)});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl("cf")+"?callback="+b+"&cmd=1&type=CF",charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.getUserVip.getXXVip=function(a){var b="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(b,function(b){var c=LoginManager.getUserVip.getVIPObj();b.isLogin&&(c.isLogin=!0,1==b.isvip&&(c.isVip=!0));"function"==typeof a&&a(c)});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl("xx")+"?callback="+b+"&cmd=1&type=XX",charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.getUserVip.getAVAVip=function(a){var b="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(b,function(b){var c=LoginManager.getUserVip.getVIPObj();b.isLogin&&(c.isLogin=!0,1==b.isvip&&(c.isVip=!0));"function"==typeof a&&a(c)});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl("ava")+"?callback="+b+"&cmd=1&type=AVA",charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.getUserVip.getROCOVip=function(a){var b="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(b,function(b){var c=LoginManager.getUserVip.getVIPObj();b.isLogin&&(c.isLogin=!0,1==b.isvip&&(c.isVip=!0));"function"==typeof a&&a(c)});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl("roco")+"?callback="+b+"&cmd=1&type=ROCO",charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.getUserVip.getQQVip=function(a){var b="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(b,function(b){var c=LoginManager.getUserVip.getVIPObj();b.isLogin&&(c.isLogin=!0,1==b.isvip&&(c.isVip=!0));"function"==typeof a&&a(c)});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl("roco")+"?callback="+b+"&cmd=1&type=QQ",charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.getUserDiamond.getDiamondObj=function(){return{isLogin:!1,isVip:!1,vipLevel:-1,isYearVip:!1}};LoginManager.getUserDiamond.getQQGAMEDiamond=function(a){var b="jsonp"+LoginManager._randomInt(100);window[b]=function(b){var c=LoginManager.getUserDiamond.getDiamondObj();if(0==b.error&&(c.isLogin=!0,"undefined"!=b.level&&!isNaN(b.level)&&1<=1*b.level&&7>=1*b.level)){if(LoginManager._$E("#qqgame_diamond_content")){var e='<img src="http://ossweb-img.qq.com/images/gamevip/lz_icon/lz_a_on_'+b.level+'.png" />';b.blue_src="http://ossweb-img.qq.com/images/gamevip/lz_icon/lz_a_on_"+b.level+".png";1==1*b.isannual?(e+=' <img src="../../ossweb-img.qq.com/images/gamevip/lz_icon/year_icon.png" /> ',b.year_src="../../ossweb-img.qq.com/images/gamevip/lz_icon/year_icon.png"):(e+=' <img src="../../ossweb-img.qq.com/images/gamevip/lz_icon/no_year_icon.png" /> ',b.year_src="../../ossweb-img.qq.com/images/gamevip/lz_icon/no_year_icon.png");LoginManager._$E("#qqgame_diamond_content").innerHTML=e}c.isVip=!0;c.vipLevel=b.level;1==b.isannual&&(c.isYearVip=!0)}"function"==typeof a&&a(c)};LoginManager.tool.createScript({url:"http://minigamecgi.qq.com/cgi-bin/gamevip_check_login?callback="+b,charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.getUserDiamond.getSPEEDDiamond=function(a){var b="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(b,function(b){var c=LoginManager.getUserDiamond.getDiamondObj();b.isLogin&&(c.isLogin=!0,1==b.isvip&&(c.isVip=!0),0<=b.viplevel&&(c.vipLevel=b.viplevel),1==b.isYearVip&&(c.isYearVip=!0));"function"==typeof a&&a(c)});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl("speed")+"?callback="+b+"&cmd=1&type=QQSPEED",charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.getUserDiamond.getQQSHOWDiamond=function(a){var b="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(b,function(b){var c=LoginManager.getUserDiamond.getDiamondObj();b.isLogin&&(c.isLogin=!0,1==b.isvip&&(c.isVip=!0),0<=b.viplevel&&(c.vipLevel=b.viplevel),1==b.isYearVip&&(c.isYearVip=!0));"function"==typeof a&&a(c)});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl()+"?callback="+b+"&cmd=1&type=QQSHOW",charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.getUserDiamond.getQQZONEDiamond=function(a){var b="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(b,function(b){var c=LoginManager.getUserDiamond.getDiamondObj();b.isLogin&&(c.isLogin=!0,1==b.isvip&&(c.isVip=!0),0<=b.viplevel&&(c.vipLevel=b.viplevel),1==b.isYearVip&&(c.isYearVip=!0));c.isLogin&&(c.yellow_src=c.isVip?"http://ctc.qzonestyle.gtimg.cn/ac/qzone_v5/client/icon_lv.gif":"http://ctc.qzonestyle.gtimg.cn/ac/qzone_v5/client/icon_lvn.gif",LoginManager._$E("qqzone_diamond_content")&&0<c.vipLevel&&(LoginManager._$E("qqzone_diamond_content").innerHTML='<span style="display:inline-block; width:57px; height:18px; background:url('+c.yellow_src+') no-repeat scroll left top transparent;"><span style="display:block; font-family:Tahoma, Geneva, sans-serif; font-size:9px; font-weight:bolder; margin:3px 0 0 35px; color:#666666;">'+c.vipLevel+"</span></span>"));"function"==typeof a&&a(c)});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl()+"?callback="+b+"&cmd=1&type=QZONE",charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.getUserDiamond.getR2Diamond=function(a){var b="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(b,function(b){var c=LoginManager.getUserDiamond.getDiamondObj();b.isLogin&&(c.isLogin=!0,1==b.isvip&&(c.isVip=!0),0<=b.viplevel&&(c.vipLevel=b.viplevel),1==b.isYearVip&&(c.isYearVip=!0));"function"==typeof a&&a(c)});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl("r2")+"?callback="+b+"&cmd=1&type=QQR2",charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.getUserDiamond.getQQTANGDiamond=function(a){var b="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(b,function(b){var c=LoginManager.getUserDiamond.getDiamondObj();b.isLogin&&(c.isLogin=!0,1==b.isvip&&(c.isVip=!0),0<=b.viplevel&&(c.vipLevel=b.viplevel),1==b.isYearVip&&(c.isYearVip=!0));"function"==typeof a&&a(c)});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl("qqtang")+"?callback="+b+"&cmd=1&type=QQTANG",charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.getUserDiamond.getX5Diamond=function(a){var b="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(b,function(b){var c=LoginManager.getUserDiamond.getDiamondObj();b.isLogin&&(c.isLogin=!0,1==b.isvip&&(c.isVip=!0),0<=b.viplevel&&(c.vipLevel=b.viplevel),1==b.isYearVip&&(c.isYearVip=!0));"function"==typeof a&&a(c)});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl("x5")+"?callback="+b+"&cmd=1&type=QQX5",charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.getUserDiamond.getDNFDiamond=function(a){var b="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(b,function(b){var c=LoginManager.getUserDiamond.getDiamondObj();b.isLogin&&(c.isLogin=!0,1==b.isvip&&(c.isVip=!0),0<=b.viplevel&&(c.vipLevel=b.viplevel),1==b.isYearVip&&(c.isYearVip=!0));"function"==typeof a&&a(c)});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl("dnf")+"?callback="+b+"&cmd=1&type=DNF",charset:"gb2312",cache:!1,dataType:"function",dataTypeName:b,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})};LoginManager.login=function(a,b){var d={gameId:"",appid:"",f_url:"loginerroralert",s_url:"",no_verifyimg:1},c={needMaskDiv:!0,needNickName:!0,needReloadPage:!0,loginDivOffset:{left:.5,top:.5},msg:"\u6b63\u5728\u83b7\u53d6\u767b\u5f55\u4fe1\u606f\uff0c\u8bf7\u7a0d\u5019...",loginedCallback:null},e=!0;LoginManager._$extend(d,LoginManager.option);LoginManager._$extend(c,LoginManager.option);LoginManager._$extend(d,LoginManager.loginOption);LoginManager._$extend(c,LoginManager.loginOption);LoginManager._$extend(d,b);LoginManager._$extend(c,b);d.gameId||(d.gameId=LoginManager.comm.getGameId());d.appid||(d.appid=LoginManager.comm.getAppId(d.gameId));"function"==typeof a?(e=!1,c.loginedCallback=function(){LoginManager.option.defLoginedCallback();a()}):(e=c.needReloadPage,"function"!=typeof c.loginedCallback&&(c.loginedCallback=function(){LoginManager.option.defLoginedCallback()}));c.needMaskDiv&&LoginManager.cover.show();var g=function(){var a=LoginManager.coverdiv.getLoginDiv();LoginManager.coverdiv.setDivPosition(a,c.loginDivOffset)};if(e)d.s_url||(d.s_url=top.location.href),d.s_url==top.location.href&&(d.s_url=d.s_url.replace(/#+.*$/,""))&&(d.s_url= location.protocol+"//"+location.host+"/comm-htdocs/login/loginSuccess.html?s_url="+encodeURIComponent(d.s_url)),e={appid:"",f_url:"",target:"self",qtarget:"self",s_url:"",no_verifyimg:1,qlogin_jumpname:"jump",daid:8,qlogin_param:"u1="+d.s_url},e=LoginManager._extend(e,d),e={top:c.loginDivOffset.top,left:c.loginDivOffset.left,src:"http://ui.ptlogin2.qq.com/cgi-bin/login?"+LoginManager._getAllQueryStr(e)};else{var f=function(){c.needMaskDiv&&LoginManager.cover.show();LoginManager.coverdiv.openPromptDiv({top:c.loginDivOffset.top,left:c.loginDivOffset.left,msg:c.msg});var a="jsonp"+LoginManager._randomInt(100);LoginManager.comm.callbackLoginInfo(a,function(a){c.needMaskDiv&&LoginManager.cover.hide();LoginManager.coverdiv.closePromptDiv();a.isLogin?c.loginedCallback():c.unloginCallback()});LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl(d.gameId)+"?callback="+a,charset:"gb2312",cache:!0,dataType:"function",dataTypeName:a,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null});document.removeEventListener?(window.removeEventListener("scroll",g,!1),window.removeEventListener("resize",g,!1)):document.detachEvent&&(window.detachEvent("onscroll",g),window.detachEvent("onresize",g))};d.s_url||(e=LoginManager.comm.getAppGameId(d.gameId),d.s_url="http://"+e+".qq.com/comm-htdocs/login/logincallback.htm");e={appid:"",f_url:"",target:"self",qtarget:"self",s_url:"",no_verifyimg:1,qlogin_jumpname:"jump",daid:8,qlogin_param:"u1="+d.s_url};e=LoginManager._extend(e,d);e={top:c.loginDivOffset.top,left:c.loginDivOffset.left,src:"http://ui.ptlogin2.qq.com/cgi-bin/login?"+LoginManager._getAllQueryStr(e)};window.LoginedCallback=function(){LoginManager.coverdiv.closeLoginDiv();c.needNickName?f():(LoginManager.cover.hide(),LoginManager.coverdiv.closePromptDiv(),c.loginedCallback())}}LoginManager.coverdiv.openLoginDiv(e);g();document.addEventListener?(window.addEventListener("scroll",g,!1),window.addEventListener("resize",g,!1)):document.attachEvent&&(window.attachEvent("onscroll",g),window.attachEvent("onresize",g))};LoginManager.checkLogin=function(a,b,d){var c={gameId:"",onlyCookie:!1,loginedCallback:null,unloginCallback:null};LoginManager._$extend(c,LoginManager.option);LoginManager._$extend(c,LoginManager.checkOption);LoginManager._$extend(c,d);c.gameId||(c.gameId=LoginManager.comm.getGameId());"function"==typeof a?c.loginedCallback=function(){LoginManager.option.defLoginedCallback();a()}:"function"!=typeof c.loginedCallback&&(c.loginedCallback=function(){LoginManager.option.defLoginedCallback()});"function"==typeof b?c.unloginCallback=function(){LoginManager.option.defUnloginCallback();b()}:"function"!=typeof c.unloginCallback&&(c.unloginCallback=function(){LoginManager.option.defUnloginCallback()});LoginManager.comm.checkUserLogined()?c.loginedCallback():(d="jsonp"+LoginManager._randomInt(100),LoginManager.comm.callbackLoginInfo(d,function(a){LoginManager._DATATATATTA=a;LoginManager._______isRunFirst=2;LoginManager.comm.checkUserLogined()?c.loginedCallback():c.unloginCallback();

}),LoginManager.___ONLY_FUNCTION_ARRAY||(LoginManager.___ONLY_FUNCTION_ARRAY=[]),"undefined"==typeof LoginManager._______isRunFirst&&(LoginManager._______isRunFirst=0),0!=LoginManager._______isRunFirst?LoginManager.___ONLY_FUNCTION_ARRAY.push(window[d]):(LoginManager.___flag____=setInterval(function(){if(2==LoginManager._______isRunFirst){clearInterval(LoginManager.___flag____);for(LoginManager.___flag____=null;!(0>=LoginManager.___ONLY_FUNCTION_ARRAY.length);)LoginManager.___ONLY_FUNCTION_ARRAY.shift()(LoginManager._DATATATATTA);LoginManager._______isRunFirst=0}},10),LoginManager._______isRunFirst=1,LoginManager.tool.createScript({url:LoginManager.comm.getCheckLoginUrl(c.gameId)+"?callback="+d,charset:"gb2312",cache:!0,dataType:"function",dataTypeName:d,onLoadStartEvent:null,onLoadingEvent:null,onLoadSuccessEvent:function(){},onLoadErrorEvent:function(){},onLoadCompleteEvent:null})))};LoginManager.logout=function(a,b){var d={freshWin:"",jumpUrl:"",needMaskDiv:!0,msg:"\u4eb2\u7231\u7684\u7528\u6237\uff0c\u60a8\u5df2\u7ecf\u6ce8\u9500\u6210\u529f\uff01",loginDivOffset:{left:.5,top:.5},logoutCallback:null};LoginManager._$extend(d,LoginManager.option);LoginManager._$extend(d,LoginManager.logoutOption);LoginManager._$extend(d,b);"function"==typeof a?d.logoutCallback=function(){LoginManager.option.defUnloginCallback();a()}:"function"!=typeof d.logoutCallback&&(d.logoutCallback=function(){LoginManager.option.defUnloginCallback()});d.needMaskDiv&&LoginManager.cover.show();LoginManager.coverdiv.openPromptDiv({top:d.loginDivOffset.top,left:d.loginDivOffset.left,msg:d.msg});LoginManager._delCookie("IED_LOG_INFO2","../index.html","qq.com");LoginManager.coverdiv.openLoginDiv({src:"http://game.qq.com/act/logout.html?20121029",show:!1});window.logoutCallback=function(){d.logoutCallback();d.needMaskDiv&&LoginManager.cover.hide();LoginManager.coverdiv.closePromptDiv();d.freshWin&&(d.jumpUrl?window[d.freshWin].location.href=d.jumpUrl:window[d.freshWin].location.reload())}};LoginManager.submitLogin=function(a){var b=null,b="function"!=typeof a?function(){LoginManager.option.defLoginedCallback()}:function(){LoginManager.option.defLoginedCallback();a()};LoginManager.checkLogin(function(){b()},function(){LoginManager.login(function(){b()})})};LoginManager.reloadLogin=function(a,b){var d=null,d="function"!=typeof a?function(){LoginManager.option.defLoginedCallback()}:function(){LoginManager.option.defLoginedCallback();a()},c=function(){location.reload()};"function"==typeof b&&(c=b);LoginManager.checkLogin(function(){d()},function(){LoginManager.login(function(){c()})})};LL_openLoginDiv=OpenLoginDiv=function(a){"undefined"==typeof a&&(a={});"function"!=typeof a.loginedCallback&&(a.loginedCallback=null);LoginManager.login(a.loginedCallback,a)};LL_CheckLogin=LL_checkLogin=CheckLogin=function(a){"undefined"==typeof a&&(a={});"function"!=typeof a.loginedCallback&&(a.loginedCallback=null);"function"!=typeof a.unloginCallback&&(a.unloginCallback=null);LoginManager.checkLogin(a.loginedCallback,a.unloginCallback,a)};LL_logout=LogoutPage=function(a){LoginManager.logout(null,a)};LoginManager.checkUserLogin=LoginManager.isLogin;LoginManager.option={gameId:"",defLoginedCallback:function(){try{LoginManager._$E("unlogin")&&(LoginManager._$E("unlogin").style.display="none"),LoginManager._$E("logined")&&(LoginManager._$E("logined").style.display="block")}catch(a){}},defUnloginCallback:function(){try{LoginManager._$E("logined")&&(LoginManager._$E("logined").style.display="none"),LoginManager._$E("unlogin")&&(LoginManager._$E("unlogin").style.display="block")}catch(a){}}};LoginManager.loginOption={needMaskDiv:!0,needNickName:!0,appid:"",loginDivOffset:{left:.5,top:.5}};LoginManager.checkOption={onlyCookie:!1};LoginManager.logoutOption={freshWin:"",jumpUrl:"",needMaskDiv:!0,loginDivOffset:{left:.5,top:.5}};LoginManager.setOption=function(a){var b=LoginManager.setOption.caller;b==LoginManager.login?(LoginManager._$extend(LoginManager.option,a),LoginManager._$extend(LoginManager.loginOption,a)):b==LoginManager.checkLogin?(LoginManager._$extend(LoginManager.option,a),LoginManager._$extend(LoginManager.checkOption,a)):LoginManager._$extend(LoginManager.option,a)};function ptlogin2_onResize(a,b){var d=LoginManager.coverdiv.getLoginDiv();d&&(d.style.width=a+"px",d.style.height=b+"px",d.style.visibility="hidden",d.style.visibility="visible")}function ptlogin2_onClose(){LoginManager.coverdiv.closeLoginDiv();LoginManager.cover.hide()}LoginManager.init=function(){var a={gameId:"",onlyCookie:0,needMaskDiv:1,needReloadPage:1},b;a:{b=document.getElementsByTagName("script");for(var d=0;d<b.length;d++){var c=b[d].src;if(c&&0<=c.toLowerCase().indexOf("loginmanager")){b=c;break a}}b=""}b&&(b=LoginManager._getAllQuery(b),a=LoginManager._extend(a,b),a.gameId&&(LoginManager.option.gameId=a.gameId),LoginManager.checkOption.onlyCookie=0==a.onlyCookie?!1:!0,0==a.needMaskDiv?(LoginManager.loginOption.needMaskDiv=!1,LoginManager.logoutOption.needMaskDiv=!1):(LoginManager.loginOption.needMaskDiv=!0,LoginManager.logoutOption.needMaskDiv=!0),LoginManager.loginOption.needReloadPage=0==a.needReloadPage?!1:!0);LoginManager.isLoaded=!0};LoginManager.isLoaded||LoginManager.init();var checkHasOldLogin=function(){"function"==typeof LL_submitWrapper&&"object"==typeof __IED_APPID__&&alert("\u60a8\u597d\uff0c\u6b22\u8fce\u60a8\u53c2\u52a0\u8fd9\u6b21\u6d3b\u52a8\u3002")};window.attachEvent?window.attachEvent("onload",function(){checkHasOldLogin()}):window.addEventListener("load",function(){checkHasOldLogin()},!1);/*  |xGv00|011b96828b93bac24faa563e9b632fd5 */